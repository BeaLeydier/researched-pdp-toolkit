# PDP Toolkit Guidance

This README.md document explains how this toolkit is structured, and provides step by step instructions on how to use it with your PDP data. The [ReportDemo.md](https://github.com/BeaLeydier/researched-pdp-toolkit/blob/main/ReportDemo.md) document serves as an example of what kind of report and analyses you can hope to generate with this toolkit.

## Objective: What is this toolkit about?

The goal of this toolkit is to replicate the [CTE Toolkit](https://github.com/rachworsham/open_sdp_cte_toolkit) of the [OpenSDP](https://opensdp.github.io/) project, using your institution's PDP [Analysis-Ready Files](https://help.studentclearinghouse.org/pdp/knowledge-base/using-the-analysis-ready-file.s/). It uses Stata to transform and analyze the data, and generates tables and figures for your analysis.

This toolkit contains code and instructions to
- transform your PDP Analysis-Ready Files into the appropriate data structure for our analysis purpose; we will call this step "Make Data"
- use these transformed datasets to create relevant graphs and tables featured in the [CTE Toolkit](https://github.com/rachworsham/open_sdp_cte_toolkit); we will call this step "Make Report"

Given the PDP Analysis-Ready Files follow a standardized, predictable format, the code is meant to be as close to plug-and-play as possible. This readme provides instructions on how to set up the toolkit with your own data and parameters, and where to adjust the code if needed.

Because the PDP Analyis-Ready Files at this time unfortunately do not contain information about students pathways, which is a core dimension of the CTE toolkit analyses, this toolkit also includes a data entry step, aimed at merging student pathway information with information from your PDP Analysis-Ready Files; we will call this step "Enter Data". This readme provides instructions on how to enter and label your student pathway data before running the analyses.

## Contents: What kind of analyses and insights can I expect from this toolkit?

This repository contains an example of the graphs and tables generated by this toolkit in the [ReportDemo.md](https://github.com/BeaLeydier/researched-pdp-toolkit/blob/main/ReportDemo.md). The sections of the report mirror those of the CTE toolkit. It also adds a few dimensions for the analysis, leveraging the specificity and richness of the data available in the PDP Analysis-Ready Files.

Specifically, the sections are 

- Section 0 : Describing Your Data 
    Note that this section was mentioned in the CTE toolkit but its code was not included in the CTE toolkit data files. The current toolkit provides code for some example summary statistics you may want to generate to describe your data.

- Section 1 : Completion
    This section contains two sub-section : Completion by Pathway and Completion by Credential Sought.
        The Completion by Pathway subsection is analogous to the CTE toolkit's Section 1, and focuses on student completion outcomes by pathway.
        The Completion by Credential Sought subsection is an addition compared to the CTE toolkit. It follows the same logic as the previous subsection, but analyzes data by credential sought instead of pathway, leveraging the fact that the PDP Analysis Ready files contain information on credential at entry.

- Section 2 : Mapping Student Progression
    This section contains two subsections : Pathways Over Time and Short-Term Outcomes.
         The Pathways Over Time subsection is analogous to the CTE toolkit's Section 2, and looks at student outcomes by pathway over time. One key difference with the CTE toolkit is that, because the PDP Analysis Ready Files contain year-level outcome data instead of term-level outcome data, the graphs in this unit display progression year by year, instead of term by term.
        The Short-Term Outcomes subsection focuses on Year 2 outcomes available in the PDP Analysis Ready File : Retention and Persistence. It contains similar analyses as those in Section 1, but focused on these two short term outcomes, instead of the final Completion outcomes.

- Section 3 : Gate-Keeper Courses
    This section is analogous to the CTE toolkit's section 3, and looks at gate-keeper courses in each pathways.

- Section 4 : Credit Accumulation
    This section is analogous to the CTE toolkit's sectoin 4, and looks at credit accumulation over time. 


## Getting Started: How do I get the toolkit?

If you are familiar with github, you can fork this repository, and clone it to your local machine.

If you are not familiar with github, you can simply download this repository, and save it anywhere convenient on your local machine. For that, click on the green "<> Code" button and select "Download ZIP". Then, navigate to the working directory on your local machine where you want this toolkit to be saved, and save the repository there. It will be saved as a .zip file, which is a compressed folder containing all the files and subfolders of this repository. You will need to [unzip](https://www.wikihow.com/Unzip-a-File) it.

Whether you fork/clone or download the repository, it is important to keep the folder and subfolder structure intact, as well as keep the existing files and folder names as they are. The code of the toolkit is written with those in mind, and modifying them will require more customization of the existing code before you can run it. While we strongly advise against deleting or renaming existing folders or files, you are more than welcome to add new files to the existing repository as you start working on it.

## Workflow : How will this work ?

You will first download the toolkit and save its contents to your own machine, so you can run it on your own data.

You will then copy and save the following data files to your toolkit folder on your local machine, inside the dedicated subfolders of the toolkit 
- Your PDP Analysis Ready Files under 1_data-pdp
- Your student pathway information under 2_data-toolkit

The AR files are already standardized and formatted, and this presentation helps you figure out where to find them. 

The student pathway information is not standardized, and this toolkit contains scripts and templates to help you extract, format and label the student pathway information in a way that will make it easy for the toolkit code to read it. It also contains some diagnostics for you to run, checking for some possible discrepancies between your PDP AR files and the student pathway information you are providing. 

Once you have added your data to the appropriate toolkit subfolders, you can run the toolkit analyses to create the report. The toolkit analyses rely on certain parameters and custom choices that will be specific to your institution, which you can define once at the beginning of the analysis. These include for example defining whether you are a 2-year or a 2-year institution, and what colors you want to use for your graphs. For each of the parameters, the toolkit includes a default choice, as well as instructions on how to change it. You will be able to change these later if you want to produce different reports with different parameters.

Once you have defined your analysis parameters, you can run the dofiles (aka scripts) that produce the analyses. Some dofiles will transform, recode, reshape and restructure your data. Other dofiles use the transformed data to produce graphs and tables.

## Overview: How is this toolkit structured?

This toolkit contains files at the root of the repository, as well as subfolders with more files. 

### Subfolder 0_scripts

The subfolder 0_scripts contains all of the individual scripts required to run the toolkit. There are two scripts related to the Pathway

0_scripts
1_data-pdp
2_data-toolkit
3_data-diagnostics
4_output

+ master dofiles accomplishing one task each. Next sections describe them in order.
+ master dofiles require customization/inputs
+ other dofiles require changes/customization where it has the keyword INSTRUCTIONS

## Set Up: Where to Start?

Once you have downloaded or cloned the repository to your local machine, you need to define some important Stata-specific parameters. This step only needs to be done once. 

### Add your machine-specific file path

+ instructions on file path at the top of each dofile

### Define custom colors (optional)

+ instructions on where to find + how to change the custom color palette
![Custom Palette](4_output/custom-palette.png)

### Install necessary user-written commands

## Define Parameters : How to run this toolkit with my institution's Analysis-Ready Files?

(step done only once)

- Add AR files in proper folder (mention gitignore)
- Define file name
- Define institution type

## Enter Data : How to add my student's pathway data?

(step done only once)

- Create students pathway template
- Fill the template (link to codebook)
- Create the pathway labeling template
- Fill the template (link to codebook)
- Add names in the Define parameters dofile

### Pathway Data Diagnostics

## Make Data : How do I transform my PDP Analysis-Ready Files into this toolkit's analysis-ready files?

- one script per section
- need to be run in order
- creates one dataframe per report section, following the datafame requirements outlined in the CTE technical guide

## Make Report : How do I create graphs and tables? 

- Data analysis code contents
- How to generate markdown doc
